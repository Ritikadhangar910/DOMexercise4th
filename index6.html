<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"
      integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M"
      crossorigin="anonymous"
    />
    <title>Document</title>
  </head>
  <body>
    <div class="container">
      <form class="mt-3">
        <div class="row">
          <div class="col-6">
            <div class="form-group">
              <label for="name">Name</label>
              <input
                type="text"
                class="form-control"
                id="name"
                placeholder="Enter name"
              />
            </div>
          </div>

          <div class="col-6">
            <label for="exampleInputEmail1">Email address</label>
            <input
              type="email"
              class="form-control"
              id="exampleInputEmail1"
              aria-describedby="emailHelp"
              placeholder="Enter email"
            />
            <small id="emailHelp" class="form-text text-muted"
              >We'll never share your email with anyone else.</small
            >
          </div>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
    </div>
  </body>
  <script>
    const btn = document.getElementsByClassName("btn");

    btn[0].addEventListener("click", (e) => {
      e.preventDefault();
      let myname = document.getElementById("name").value;
      let email = document.getElementById("exampleInputEmail1").value;
      let obj = {
        name: myname,
        email: email,
      };
      localStorage.setItem(email, JSON.stringify(obj));
      const lielem = document.createElement("li");
      lielem.innerHTML = `${myname} - ${email}    
       <button type="submit" class="btn btn-danger delete">delete</button>`;

      let container = document.getElementsByClassName("container");
      container[0].append(lielem);

      document
        .getElementsByClassName("delete")[0]
        .addEventListener("click", (e) => {
          let liparent = e.target.parentNode;
          localStorage.removeItem(email);
          container[0].removeChild(liparent);
        });
    });
  </script>
</html>
